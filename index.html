<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ecommerce</title>
  </head>
  <body class="font-helvetica px-[24px]">
    <header class="pt-[30px] flex items-center justify-between">
      <div class="flex items-center gap-[15px]">
        <img
          src="./src/assets/images/userPicture.png"
          alt="Foto de perfil"
          class="h-[62px] w-[62px] rounded-full bg-cover"
        />
        <span class="text-lg leading-6" id="saudacaoUsuario">
          <span class="text-gray-500 text-md"></span><br />
        </span>
      </div>

      <nav
        class="bg-gray-100 h-[54px] flex items-center justify-between rounded-[10px] px-[4px] relative gap-1"
      >
        <img
          src="./src/assets/svgs/mycar.svg"
          aria-label="Meu carrinho"
          alt="Carrinho de compras"
          class="py-[14px] h-[47px] w-[48px] px-[14px]"
        />
        <img
          src="./src/assets/svgs/menu.svg"
          alt="Menu"
          aria-label="Menu"
          id="menuButton"
          class="bg-white py-[17.5px] h-[47px] w-[48px] px-[13.5px] rounded-[10px]"
        />
      </nav>
      <div
        class="absolute bg-gray-100 h-[0px] top-[100px] right-[24px] left-[410px] rounded-[10px] z-50"
        id="menu"
      ></div>
    </header>

    <main>
      <h2
        class="text-[28px] leading-9 mt-10 h-[80px]"
        id="textoEncontrarProduto"
      >
        Vamos encontrar <br />
        o seu produto!
      </h2>

      <div class="w-full relative mb-[40px]">
        <img
          src="./src/assets/svgs/search.svg"
          aria-label="Exibir senha"
          id="inputEye"
          class="absolute left-[18px] top-[37px]"
        />
        <img
          src="./src/assets/svgs/filter.svg"
          aria-label="Exibir senha"
          id="inputEye"
          class="absolute right-[18px] top-[37px]"
        />
        <input
          type="text"
          class="border h-[59px] w-full rounded-lg mt-5 pl-[50px] overflow-visible placeholder-gray-800"
          name="search"
          id="search"
          placeholder="Procurar por produtos"
        />
      </div>

      <!-- Contêiner de produtos -->
      <div
        class="flex justify-between flex-wrap gap-[14px] lg:justify-start"
        id="product-list"
      ></div>
    </main>

    <script type="module" src="./src/main.ts"></script>
    <script>
      // Função para buscar e renderizar os produtos da Fake Store API
      async function fetchProducts() {
        const response = await fetch("https://fakestoreapi.com/products");
        const products = await response.json();

        const productList = document.getElementById("product-list");
        productList.innerHTML = ""; // Limpa a lista antes de renderizar

        products.forEach((product) => {
          const productElement = `
                <div class="w-[178px] flex flex-col gap-[7px]">
                  <img src="${
                    product.image
                  }" class="h-[178px] w-[178px]" alt="${product.title}">
                  <h3>${product.title}</h3>
                  <span>R$ ${product.price.toFixed(2)}</span>
                </div>
              `;
          productList.innerHTML += productElement;
        });
      }

      // Carregar produtos ao iniciar a página
      document.addEventListener("DOMContentLoaded", fetchProducts);
    </script>
  </body>
</html>
